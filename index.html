<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>2811 Maple Free Wi-Fi</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: #000 url('2811_Home Screen.jpg') center/cover no-repeat;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      height: 100vh;
    }
    .container {
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(5px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
      padding: 2rem;
      border-radius: 8px;
      max-width: 600px;
      width: 90%;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeIn 0.6s ease-out forwards;
    }
    @keyframes fadeIn {
      to { opacity: 1; transform: translateY(0); }
    }
    h1 {
      font-weight: 600;
      letter-spacing: 1px;
      margin-bottom: 0.5rem;
    }
    .logo {
      max-width: 150px;
      margin-bottom: 1rem;
    }
    .tos {
      text-align: left;
      max-height: 250px;
      overflow-y: auto;
      margin: 1rem 0;
      padding: 1rem;
      background: rgba(0, 0, 0, 0.85);
      border: 1px solid #444;
      color: #eee;
      line-height: 1.6;
      font-size: 0.9rem;
    }
    .tos h2 {
      margin-top: 0;
      font-size: 1rem;
      color: #fff;
      border-bottom: 1px solid #555;
      padding-bottom: 0.25rem;
    }
    .tos p {
      margin: 0.5rem 0;
    }
    .tos ul {
      margin: 0.5rem 0 0.5rem 1.2rem;
      padding: 0;
    }
    .tos li {
      margin-bottom: 0.4rem;
    }
    .btn {
      display: inline-block;
      margin-top: 1rem;
      padding: 0.8rem 1.2rem;
      background: #0070f3;
      color: #fff;
      text-decoration: none;
      border-radius: 4px;
      transition: background 0.3s, transform 0.3s;
    }
    .btn:hover {
      background: #005bb5;
      transform: translateY(-2px);
    }
    footer {
      margin-top: 1.5rem;
      font-size: 0.8rem;
      color: #ccc;
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="2811 Maple Logo.svg" alt="2811 Maple Logo" class="logo" />
    <h1>Welcome to 2811 Maple Free Wi-Fi</h1>

    <div class="tos">
      <h2>Terms of Service</h2>
      <p>
        You are about to access the Internet through wireless (Wi-Fi) Internet access node (the “Service”) operated by 2811 Maple.  
        The Service is provided free for 2811 Maple residents and their guests. You agree to these terms each time you connect.  
        NO network communication should be considered private or protected—2811 Maple reserves the right to monitor traffic, limit speeds, or suspend access.
      </p>
      <p>
        You must not use the Service in violation of any law or regulation. 2811 Maple is not responsible for errors, interruptions, or losses resulting from use of this Service.
      </p>
      <h2>Prohibited Activities</h2>
      <ul>
        <li>Spamming or invading the privacy of others</li>
        <li>Violating intellectual property laws</li>
        <li>Transmitting obscene, indecent, defamatory, or abusive content</li>
        <li>Hacking, or distributing viruses, worms, or Trojan horses</li>
        <li>Any other malicious or destructive activities</li>
      </ul>
    </div>

    <a id="connectBtn" class="btn">I Agree &amp; Connect</a>

    <footer>
      Powered by&nbsp;
      <img src="Rownet-logo.png" alt="RowNet Logo" style="height:1em;vertical-align:middle" />
    </footer>
  </div>

  <script>
    // Parse Meraki parameters
    const params = new URLSearchParams(window.location.search);
    const grant = params.get("base_grant_url");
    const cont  = params.get("user_continue_url");

    // Optional override
    const override = false;
    const overrideUrl = "https://2811.wifi.rownet.app/success";

    if (!grant || !cont) {
      document.body.innerHTML = "<h2>Invalid request.</h2>";
    } else {
      const target = override
        ? grant + "?continue_url=" + encodeURIComponent(overrideUrl)
        : grant + "?continue_url=" + encodeURIComponent(cont);
      document.getElementById("connectBtn").href = target;
    }
  </script>
</body>
</html>
